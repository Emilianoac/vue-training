import{e as v,f as V,d as x,c as u,g as e,h as M,z as E,t as o,o as a,F as y,G as R,C as F,u as A,D,y as t,r as z,k as P,H as U,n as N,i as _,p as Q,a as q,I as H,J as O,B as G,q as W,x as J,s as K,w as X,K as Y,T as Z}from"./index-imYiD5gQ.js";function ee(c){if(!c)throw new Error("No quiz provided");const l=v(!1),r=v(0),i=v(0),s=V(()=>c.questions[i.value]),n=v(null),p=v(!1),h=V(()=>i.value===c.questions.length-1),b=v(!1),d=v([]),m=v({correct:0,wrong:0,percentage:0,total:0});function C(){if(!c||!n.value||!s.value)return;const $=s.value.answers.map(f=>({id:f.id,answerText:f.answerText,isCorrect:f.isCorrect,isSelected:f.id===n.value}));d.value.push({question:s.value.questionText,answers:$,explanation:s.value.correctAnswerExplanation,codeExample:s.value.correctAnswerCodeExample}),p.value=!0}function S(){if(c){if(i.value===c.questions.length-1){b.value=!0,m.value.total=d.value.length,m.value.correct=d.value.filter($=>$.answers.every(f=>f.isSelected===f.isCorrect)).length,m.value.wrong=m.value.total-m.value.correct,m.value.percentage=Math.round(m.value.correct/m.value.total*100);return}i.value++,r.value=(i.value+1)/c.questions.length*100,p.value=!1,n.value=null}}return{quizInit:l,quizProgress:r,currentQuestionIndex:i,currentQuestion:s,selectedOption:n,checkAnswer:p,userStats:m,userHistory:d,isLastQuestion:h,isFinished:b,handleUserAnswer:C,handleNextQuestion:S}}const te={class:"max-w-[450px] w-full mx-auto text-center bg-white dark:bg-slate-900 p-4 rounded-md mb-4 shadow-"},se={class:"bg-slate-100 dark:bg-slate-800 p-1 rounded-full mx-auto h-[60px] w-[60px] flex items-center justify-center"},oe=["src"],le={class:"text-sm text-gray-600 dark:text-gray-400"},re={class:"font-bold text-xl"},ne={class:"opacity-70 mb-7"},ae=x({__name:"QuizWelcome",props:{title:{},description:{},image:{},category:{},level:{},levelLabel:{}},emits:["startQuiz"],setup(c){return(l,r)=>(a(),u("div",te,[e("div",se,[e("img",{class:"max-w-[30px]",src:l.image,alt:"Quiz Image"},null,8,oe)]),M(E,{type:l.level,text:l.levelLabel,class:"mx-auto my-3"},null,8,["type","text"]),e("span",le,o(l.category),1),e("h1",re,o(l.title),1),r[1]||(r[1]=e("hr",{class:"my-5 border-gray-200 dark:border-slate-800"},null,-1)),e("p",ne,o(l.description),1),e("button",{class:"app-button primary font-semibold mx-auto block w-full",onClick:r[0]||(r[0]=i=>l.$emit("startQuiz"))},o(l.$t("quiz.start_quiz")),1)]))}}),ie={class:"flex justify-between items-center mb-4"},ue={class:"text-sm font-semibold text-gray-500 dark:text-gray-400"},de={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-6"},ce=x({__name:"QuizProgress",props:{progress:{},currentQuestionIndex:{},quizLength:{}},setup(c){return(l,r)=>(a(),u(y,null,[e("div",ie,[e("p",ue,o(l.$t("quiz.question"))+" "+o(l.currentQuestionIndex)+" "+o(l.$t("general.of"))+" "+o(l.quizLength),1)]),e("div",de,[e("div",{class:"bg-color-primary h-2.5 rounded-full transition-[width] duration-500 ease-in-out",style:R({width:`${l.progress}%`})},null,4)])],64))}}),me={class:"text-xl font-bold mb-4"},pe=["value","disabled","id"],be=["for"],ge={class:"block w-full text-start pl-3"},he={key:0,class:"text-xs font-bold inline-block text-end text-green-500"},fe={key:1,class:"text-xs font-bold inline-block text-end text-red-500"},ve=x({__name:"QuizQuestion",props:F({question:{},checkAnswer:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const l=A(),r=D(c,"modelValue");return(i,s)=>(a(),u(y,null,[e("h2",me,o(i.question.id)+". "+o(i.question.questionText[t(l).locale]),1),e("ul",null,[(a(!0),u(y,null,z(i.question.answers,n=>(a(),u("li",{key:n.id,class:"flex items-center rounded-md gap-2 cursor-pointer relative mb-2"},[P(e("input",{class:"curson-pointer ms-2 peer absolute z-10","onUpdate:modelValue":s[0]||(s[0]=p=>r.value=p),value:n.id,disabled:i.checkAnswer,type:"radio",name:"answer",id:`answer-${n.id}`},null,8,pe),[[U,r.value]]),e("label",{for:`answer-${n.id}`,class:N(["grid grid-cols-1 md:grid-cols-[1fr,max-content] items-center w-full h-full p-4 cursor-pointer rounded-md border border-slate-200 dark:border-slate-800 peer-checked:border-blue-500",{"!border-green-500":i.checkAnswer&&n.isCorrect,"!border-red-500":i.checkAnswer&&!n.isCorrect,"hover:bg-gray-100 dark:hover:bg-slate-800":!i.checkAnswer,"cursor-not-allowed opacity-85":i.checkAnswer}])},[e("span",ge,o(n.answerText[t(l).locale]),1),i.checkAnswer&&n.isCorrect?(a(),u("span",he,o(r.value===n.id?i.$t("quiz.your_answer"):i.$t("quiz.correct_answer")),1)):_("",!0),i.checkAnswer&&!n.isCorrect&&r.value===n.id?(a(),u("span",fe,o(i.$t("quiz.your_answer")),1)):_("",!0)],10,be)]))),128))])],64))}}),_e={class:"grid grid-cols-1 md:grid-cols-[0.6fr,2fr] gap-3"},ke={class:"static md:sticky md:top-20 p-4 bg-white dark:bg-slate-900 rounded-md self-start"},ye={class:"flex justify-between items-center mb-4"},$e={class:"font-bold"},we=["src"],qe={class:"mt-9 text-sm"},xe={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},ze={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Ce={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Qe={class:"border-b border-slate-200 dark:border-slate-800 pb-2"},Ae={class:"bg-white dark:bg-slate-900 p-7 rounded-md"},Se={class:"font-bold text-xl mb-4"},Ve={class:"block"},Me={key:0,class:"block text-end text-xs font-bold text-green-500"},Te={key:1,class:"block text-end text-xs font-bold text-red-500"},Le={class:"font-bold mt-4"},Ie={class:"p-3 bg-slate-100 dark:bg-slate-800 rounded-md mt-2 mb-4"},je=x({__name:"QuizResults",props:{userHistory:{},userStats:{},quiz:{}},setup(c){const l=A();return(r,i)=>{var n,p;const s=H("highlightjs");return a(),u("div",_e,[e("div",ke,[e("div",ye,[e("h1",$e,o((n=r.quiz)==null?void 0:n.title[t(l).locale]),1),e("img",{src:(p=r.quiz)==null?void 0:p.category.image,alt:"Quiz Image",class:"w-[30px]"},null,8,we)]),e("ul",qe,[e("li",xe,[Q(o(r.$t("quiz.total_questions"))+": ",1),e("strong",null,o(r.userStats.total),1)]),e("li",ze,[Q(o(r.$t("quiz.correct_answers"))+": ",1),e("strong",null,o(r.userStats.correct),1)]),e("li",Ce,[Q(o(r.$t("quiz.wrong_answers"))+": ",1),e("strong",null,o(r.userStats.wrong),1)]),e("li",Qe,[Q(o(r.$t("quiz.success_percentage"))+": ",1),e("strong",null,o(r.userStats.percentage)+"%",1)])])]),e("div",Ae,[e("ul",null,[(a(!0),u(y,null,z(r.userHistory,(h,b)=>(a(),u("li",{key:b},[e("h5",Se,o(b+1)+". "+o(h.question[t(l).locale]),1),e("ul",null,[(a(!0),u(y,null,z(h.answers,d=>(a(),u("li",{key:d.id,class:N(["block md:flex justify-between items-center mb-2 border border-slate-200 dark:border-slate-800 p-3 rounded-md",{"!border-green-500":d.isCorrect,"!border-red-500":!d.isCorrect&&d.isSelected}])},[e("span",Ve,o(d.answerText[t(l).locale]),1),d.isCorrect?(a(),u("span",Me,o(d.isSelected?r.$t("quiz.your_answer"):r.$t("quiz.correct_answer")),1)):_("",!0),!d.isCorrect&&d.isSelected?(a(),u("span",Te,o(r.$t("quiz.your_answer")),1)):_("",!0)],2))),128))]),e("div",null,[e("h6",Le,o(r.$t("quiz.explanation")),1),e("p",Ie,o(h.explanation[t(l).locale]),1)]),(a(!0),u(y,null,z(h.codeExample[t(l).locale],d=>(a(),q(s,{class:"text-xs md:text-base rounded-md overflow-hidden mb-4 last-of-type:mb-0",language:d.language,code:d.code},null,8,["language","code"]))),256)),i[0]||(i[0]=e("hr",{class:"my-10 border-t border-gray-200 dark:border-slate-800"},null,-1))]))),128))])])])}}}),Ne={class:"bg-slate-100 dark:bg-slate-900 rounded-md w-full max-w-[700px] relative mx-6"},He={class:"p-8"},Be={class:"mt-4"},Ee={class:"font-bold"},Re={class:"mt-2"},Fe={class:"mt-2"},De={class:"font-bold"},Pe={class:"mt-4 bg-slate-200 dark:bg-slate-800 p-4 rounded-md"},Ue=x({__name:"QuizQuestionDetailsModal",props:{question:{}},emits:["closeModal"],setup(c){const l=A(),r=c,i=V(()=>r.question.answers.find(s=>s.isCorrect));return(s,n)=>{var h;const p=H("highlightjs");return a(),u("div",{class:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-black bg-opacity-50 z-50 backdrop-blur-md",onClick:n[1]||(n[1]=O(b=>s.$emit("closeModal"),["self"]))},[e("div",Ne,[e("div",He,[e("button",{onClick:n[0]||(n[0]=b=>s.$emit("closeModal")),class:"text-sm text-slate-600 dark:text-slate-400 absolute top-4 right-4 hover:text-slate-700 dark:hover:text-slate-300"}," [ "+o(s.$t("quiz.close_details"))+" ] ",1),e("dl",Be,[e("dt",Ee,o(s.$t("quiz.question")),1),e("dd",Re,o(s.question.questionText[t(l).locale]),1),n[2]||(n[2]=e("dt",{class:"font-bold mt-4"},"Respuesta correcta",-1)),e("dd",Fe,o((h=i.value)==null?void 0:h.answerText[t(l).locale]),1)]),n[3]||(n[3]=e("hr",{class:"my-5 border-slate-200 dark:border-slate-800"},null,-1)),e("h3",De,o(s.$t("quiz.explanation")),1),e("div",Pe,[e("p",null,o(s.question.correctAnswerExplanation[t(l).locale]),1)]),(a(!0),u(y,null,z(s.question.correctAnswerCodeExample[t(l).locale],b=>(a(),q(p,{class:"text-sm rounded-md overflow-hidden mt-4",language:b.language,code:b.code},null,8,["language","code"]))),256))])])])}}}),Oe={key:0,class:"mt-10"},Ge={key:1,class:"max-w-[950px] mx-auto"},We={class:"text-xl font-bold mb-6"},Je={class:"bg-white dark:bg-slate-900 p-4 rounded-md mx-auto"},Ke={class:"flex justify-end items-center gap-3 mt-6"},Xe=["disabled"],Ye=["disabled"],et=x({__name:"QuizProfileView",setup(c){const l=A(),r=W(),i=J(),s=G.find(w=>w.id===r.params.id),n=v(!1);s||i.push({name:"NotFound"});const{quizInit:p,quizProgress:h,currentQuestionIndex:b,currentQuestion:d,selectedOption:m,isFinished:C,isLastQuestion:S,checkAnswer:$,userHistory:f,userStats:B,handleUserAnswer:T,handleNextQuestion:L}=ee(s||null);return K(()=>{s&&(document.title=`${s.title[l.locale]} - Vue Training`)}),X(()=>l.locale,()=>{s&&(document.title=`${s.title[l.locale]} - Vue Training`)}),(w,g)=>{var I,j;return a(),u(y,null,[t(s)?(a(),u("div",Oe,[!t(p)&&t(s)?(a(),q(ae,{key:0,title:t(s).title[t(l).locale],description:t(s).description[t(l).locale],image:t(s).category.image,category:t(s).category.name,level:t(s).level,levelLabel:t(s).levelLabel[t(l).locale],onStartQuiz:g[0]||(g[0]=k=>p.value=!0)},null,8,["title","description","image","category","level","levelLabel"])):_("",!0),!t(C)&&t(p)?(a(),u("div",Ge,[e("h1",We,o((I=t(s))==null?void 0:I.title[t(l).locale]),1),e("div",Je,[M(ce,{progress:t(h),currentQuestionIndex:t(b)+1,quizLength:(j=t(s))==null?void 0:j.questions.length},null,8,["progress","currentQuestionIndex","quizLength"]),M(ve,{question:t(d),checkAnswer:t($),modelValue:t(m),"onUpdate:modelValue":g[1]||(g[1]=k=>Y(m)?m.value=k:null)},null,8,["question","checkAnswer","modelValue"]),e("div",Ke,[t($)?(a(),u("button",{key:0,onClick:g[2]||(g[2]=k=>n.value=!0),class:"app-button secondary text-sm"},o(w.$t("quiz.view_details")),1)):_("",!0),t($)?(a(),u("button",{key:2,disabled:!t(m),class:"app-button primary text-sm",onClick:g[4]||(g[4]=(...k)=>t(L)&&t(L)(...k))},o(t(S)?w.$t("quiz.finish_quiz"):w.$t("quiz.next_question")),9,Ye)):(a(),u("button",{key:1,disabled:!t(m),class:"app-button primary text-sm",onClick:g[3]||(g[3]=(...k)=>t(T)&&t(T)(...k))},o(w.$t("quiz.verify_answer")),9,Xe))])])])):t(C)?(a(),q(je,{key:2,userHistory:t(f),userStats:t(B),quiz:t(s)},null,8,["userHistory","userStats","quiz"])):_("",!0)])):_("",!0),(a(),q(Z,{to:"body"},[n.value?(a(),q(Ue,{key:0,question:t(d),onCloseModal:g[5]||(g[5]=k=>n.value=!1)},null,8,["question"])):_("",!0)]))],64)}}});export{et as default};
