import{e as f,f as H,d as z,c as u,g as e,h as A,z as R,t as n,o as i,F as y,G as F,C as D,u as C,D as P,y as t,r as M,k as U,H as O,n as N,i as _,p as L,a as q,I as B,J as G,B as W,q as J,x as K,s as X,w as Y,K as Z,T as ee}from"./index-CxaueGvV.js";import{m as $}from"./marked.esm-DKjyhwJX.js";function te(c){if(!c)throw new Error("No quiz provided");const o=f(!1),l=f(0),a=f(0),s=H(()=>c.questions[a.value]),r=f(null),p=f(!1),h=H(()=>a.value===c.questions.length-1),b=f(!1),d=f([]),m=f({correct:0,wrong:0,percentage:0,total:0});function T(){if(!c||!r.value||!s.value)return;const w=s.value.answers.map(v=>({id:v.id,answerText:v.answerText,isCorrect:v.isCorrect,isSelected:v.id===r.value}));d.value.push({question:s.value.questionText,answers:w,explanation:s.value.correctAnswerExplanation,codeExample:s.value.correctAnswerCodeExample}),p.value=!0}function Q(){if(c){if(a.value===c.questions.length-1){b.value=!0,m.value.total=d.value.length,m.value.correct=d.value.filter(w=>w.answers.every(v=>v.isSelected===v.isCorrect)).length,m.value.wrong=m.value.total-m.value.correct,m.value.percentage=Math.round(m.value.correct/m.value.total*100);return}a.value++,l.value=(a.value+1)/c.questions.length*100,p.value=!1,r.value=null}}return{quizInit:o,quizProgress:l,currentQuestionIndex:a,currentQuestion:s,selectedOption:r,checkAnswer:p,userStats:m,userHistory:d,isLastQuestion:h,isFinished:b,handleUserAnswer:T,handleNextQuestion:Q}}const se={class:"max-w-[450px] w-full mx-auto text-center bg-white dark:bg-slate-900 p-4 rounded-md mb-4 shadow-"},oe={class:"bg-slate-100 dark:bg-slate-800 p-1 rounded-full mx-auto h-[60px] w-[60px] flex items-center justify-center"},le=["src"],re={class:"text-sm text-gray-600 dark:text-gray-400"},ne={class:"font-bold text-xl"},ie={class:"opacity-70 mb-7"},ae=z({__name:"QuizWelcome",props:{title:{},description:{},image:{},category:{},level:{},levelLabel:{}},emits:["startQuiz"],setup(c){return(o,l)=>(i(),u("div",se,[e("div",oe,[e("img",{class:"max-w-[30px]",src:o.image,alt:"Quiz Image"},null,8,le)]),A(R,{type:o.level,text:o.levelLabel,class:"mx-auto my-3"},null,8,["type","text"]),e("span",re,n(o.category),1),e("h1",ne,n(o.title),1),l[1]||(l[1]=e("hr",{class:"my-5 border-gray-200 dark:border-slate-800"},null,-1)),e("p",ie,n(o.description),1),e("button",{class:"app-button primary font-semibold mx-auto block w-full",onClick:l[0]||(l[0]=a=>o.$emit("startQuiz"))},n(o.$t("quiz.start_quiz")),1)]))}}),ue={class:"flex justify-between items-center mb-4"},de={class:"text-sm font-semibold text-gray-500 dark:text-gray-400"},ce={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-6"},me=z({__name:"QuizProgress",props:{progress:{},currentQuestionIndex:{},quizLength:{}},setup(c){return(o,l)=>(i(),u(y,null,[e("div",ue,[e("p",de,n(o.$t("quiz.question"))+" "+n(o.currentQuestionIndex)+" "+n(o.$t("general.of"))+" "+n(o.quizLength),1)]),e("div",ce,[e("div",{class:"bg-color-primary h-2.5 rounded-full transition-[width] duration-500 ease-in-out",style:F({width:`${o.progress}%`})},null,4)])],64))}}),pe={class:"flex items-center text-xl font-bold mb-4"},be={class:"block me-1"},ge=["innerHTML"],he=["value","disabled","id"],ve=["for"],fe=["innerHTML"],_e={key:0,class:"text-xs font-bold inline-block text-end text-green-500"},ke={key:1,class:"text-xs font-bold inline-block text-end text-red-500"},ye=z({__name:"QuizQuestion",props:D({question:{},checkAnswer:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const o=C(),l=P(c,"modelValue");return(a,s)=>(i(),u(y,null,[e("div",pe,[e("span",be,n(a.question.id)+".",1),e("div",{class:"question-text",innerHTML:t($)(a.question.questionText[t(o).locale])},null,8,ge)]),e("ul",null,[(i(!0),u(y,null,M(a.question.answers,r=>(i(),u("li",{key:r.id,class:"flex items-center rounded-md gap-2 cursor-pointer relative mb-2"},[U(e("input",{class:"curson-pointer ms-2 peer absolute z-10","onUpdate:modelValue":s[0]||(s[0]=p=>l.value=p),value:r.id,disabled:a.checkAnswer,type:"radio",name:"answer",id:`answer-${r.id}`},null,8,he),[[O,l.value]]),e("label",{for:`answer-${r.id}`,class:N(["grid grid-cols-1 md:grid-cols-[1fr,max-content] items-center w-full h-full p-4 cursor-pointer rounded-md border border-slate-200 dark:border-slate-800 peer-checked:border-blue-500",{"!border-green-500":a.checkAnswer&&r.isCorrect,"!border-red-500":a.checkAnswer&&!r.isCorrect,"hover:bg-gray-100 dark:hover:bg-slate-800":!a.checkAnswer,"cursor-not-allowed opacity-85":a.checkAnswer}])},[e("span",{class:"block w-full text-start pl-3",innerHTML:t($)(r.answerText[t(o).locale])},null,8,fe),a.checkAnswer&&r.isCorrect?(i(),u("span",_e,n(l.value===r.id?a.$t("quiz.your_answer"):a.$t("quiz.correct_answer")),1)):_("",!0),a.checkAnswer&&!r.isCorrect&&l.value===r.id?(i(),u("span",ke,n(a.$t("quiz.your_answer")),1)):_("",!0)],10,ve)]))),128))])],64))}}),$e={class:"grid grid-cols-1 md:grid-cols-[0.6fr,2fr] gap-3"},we={class:"static md:sticky md:top-20 p-4 bg-white dark:bg-slate-900 rounded-md self-start"},xe={class:"flex justify-between items-center mb-4"},qe={class:"font-bold"},ze=["src"],Me={class:"mt-9 text-sm"},Te={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Le={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Ce={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Qe={class:"border-b border-slate-200 dark:border-slate-800 pb-2"},He={class:"bg-white dark:bg-slate-900 p-7 rounded-md"},Ae={class:"flex items-center font-bold text-xl mb-4"},Se={class:"block me-1"},Ve=["innerHTML"],Ie=["innerHTML"],je={key:0,class:"block text-end text-xs font-bold text-green-500"},Ne={key:1,class:"block text-end text-xs font-bold text-red-500"},Be={class:"font-bold mt-4"},Ee=["innerHTML"],Re=z({__name:"QuizResults",props:{userHistory:{},userStats:{},quiz:{}},setup(c){const o=C();return(l,a)=>{var r,p;const s=B("highlightjs");return i(),u("div",$e,[e("div",we,[e("div",xe,[e("h1",qe,n((r=l.quiz)==null?void 0:r.title[t(o).locale]),1),e("img",{src:(p=l.quiz)==null?void 0:p.category.image,alt:"Quiz Image",class:"w-[30px]"},null,8,ze)]),e("ul",Me,[e("li",Te,[L(n(l.$t("quiz.total_questions"))+": ",1),e("strong",null,n(l.userStats.total),1)]),e("li",Le,[L(n(l.$t("quiz.correct_answers"))+": ",1),e("strong",null,n(l.userStats.correct),1)]),e("li",Ce,[L(n(l.$t("quiz.wrong_answers"))+": ",1),e("strong",null,n(l.userStats.wrong),1)]),e("li",Qe,[L(n(l.$t("quiz.success_percentage"))+": ",1),e("strong",null,n(l.userStats.percentage)+"%",1)])])]),e("div",He,[e("ul",null,[(i(!0),u(y,null,M(l.userHistory,(h,b)=>(i(),u("li",{key:b},[e("div",Ae,[e("span",Se,n(b+1)+".",1),e("div",{innerHTML:t($)(h.question[t(o).locale])},null,8,Ve)]),e("ul",null,[(i(!0),u(y,null,M(h.answers,d=>(i(),u("li",{key:d.id,class:N(["block md:flex justify-between items-center mb-2 border border-slate-200 dark:border-slate-800 p-3 rounded-md",{"!border-green-500":d.isCorrect,"!border-red-500":!d.isCorrect&&d.isSelected}])},[e("div",{class:"block",innerHTML:t($)(d.answerText[t(o).locale])},null,8,Ie),d.isCorrect?(i(),u("span",je,n(d.isSelected?l.$t("quiz.your_answer"):l.$t("quiz.correct_answer")),1)):_("",!0),!d.isCorrect&&d.isSelected?(i(),u("span",Ne,n(l.$t("quiz.your_answer")),1)):_("",!0)],2))),128))]),e("div",null,[e("h6",Be,n(l.$t("quiz.explanation")),1),e("div",{class:"p-3 bg-slate-50 dark:bg-slate-800 rounded-md mt-2 mb-4",innerHTML:t($)(h.explanation[t(o).locale])},null,8,Ee)]),(i(!0),u(y,null,M(h.codeExample[t(o).locale],d=>(i(),q(s,{class:"text-xs md:text-base rounded-md overflow-hidden mb-4 last-of-type:mb-0",language:d.language,code:d.code},null,8,["language","code"]))),256)),a[0]||(a[0]=e("hr",{class:"my-10 border-t border-gray-200 dark:border-slate-800"},null,-1))]))),128))])])])}}}),Fe={class:"bg-white dark:bg-slate-900 rounded-md w-full max-w-[700px] max-h-[90vh] overflow-y-auto relative mx-6"},De={class:"p-4 md:p-8 text-sm md:text-base"},Pe={class:"mt-4"},Ue={class:"font-bold"},Oe=["innerHTML"],Ge=["innerHTML"],We={class:"font-bold"},Je=["innerHTML"],Ke=z({__name:"QuizQuestionDetailsModal",props:{question:{}},emits:["closeModal"],setup(c){const o=C(),l=c,a=H(()=>l.question.answers.find(s=>s.isCorrect));return(s,r)=>{var h;const p=B("highlightjs");return i(),u("div",{class:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-black bg-opacity-50 z-[9999] backdrop-blur-md",onClick:r[1]||(r[1]=G(b=>s.$emit("closeModal"),["self"]))},[e("div",Fe,[e("div",De,[e("button",{onClick:r[0]||(r[0]=b=>s.$emit("closeModal")),class:"text-sm text-slate-600 dark:text-slate-400 absolute top-4 right-4 hover:text-slate-700 dark:hover:text-slate-300"}," [ "+n(s.$t("quiz.close_details"))+" ] ",1),e("dl",Pe,[e("dt",Ue,n(s.$t("quiz.question")),1),e("dd",{class:"mt-2",innerHTML:t($)(s.question.questionText[t(o).locale])},null,8,Oe),r[2]||(r[2]=e("dt",{class:"font-bold mt-4"},"Respuesta correcta",-1)),e("dd",{class:"mt-2",innerHTML:t($)(((h=a.value)==null?void 0:h.answerText[t(o).locale])??"")},null,8,Ge)]),r[3]||(r[3]=e("hr",{class:"my-5 border-slate-200 dark:border-slate-800"},null,-1)),e("h3",We,n(s.$t("quiz.explanation")),1),e("div",{class:"mt-2 mb-5",innerHTML:t($)(s.question.correctAnswerExplanation[t(o).locale])},null,8,Je),(i(!0),u(y,null,M(s.question.correctAnswerCodeExample[t(o).locale],b=>(i(),q(p,{class:"text-sm rounded-md overflow-hidden mt-4",language:b.language,code:b.code},null,8,["language","code"]))),256))])])])}}}),Xe={key:0,class:"mt-10"},Ye={key:1,class:"max-w-[950px] mx-auto"},Ze={class:"text-xl font-bold mb-6"},et={class:"bg-white dark:bg-slate-900 p-4 rounded-md mx-auto"},tt={class:"flex justify-end items-center gap-3 mt-6"},st=["disabled"],ot=["disabled"],nt=z({__name:"QuizProfileView",setup(c){const o=C(),l=J(),a=K(),s=W.find(x=>x.id===l.params.id),r=f(!1);s||a.push({name:"NotFound"});const{quizInit:p,quizProgress:h,currentQuestionIndex:b,currentQuestion:d,selectedOption:m,isFinished:T,isLastQuestion:Q,checkAnswer:w,userHistory:v,userStats:E,handleUserAnswer:S,handleNextQuestion:V}=te(s||null);return X(()=>{s&&(document.title=`${s.title[o.locale]} - Vue Training`)}),Y(()=>o.locale,()=>{s&&(document.title=`${s.title[o.locale]} - Vue Training`)}),(x,g)=>{var I,j;return i(),u(y,null,[t(s)?(i(),u("div",Xe,[!t(p)&&t(s)?(i(),q(ae,{key:0,title:t(s).title[t(o).locale],description:t(s).description[t(o).locale],image:t(s).category.image,category:t(s).category.name,level:t(s).level,levelLabel:t(s).levelLabel[t(o).locale],onStartQuiz:g[0]||(g[0]=k=>p.value=!0)},null,8,["title","description","image","category","level","levelLabel"])):_("",!0),!t(T)&&t(p)?(i(),u("div",Ye,[e("h1",Ze,n((I=t(s))==null?void 0:I.title[t(o).locale]),1),e("div",et,[A(me,{progress:t(h),currentQuestionIndex:t(b)+1,quizLength:(j=t(s))==null?void 0:j.questions.length},null,8,["progress","currentQuestionIndex","quizLength"]),A(ye,{question:t(d),checkAnswer:t(w),modelValue:t(m),"onUpdate:modelValue":g[1]||(g[1]=k=>Z(m)?m.value=k:null)},null,8,["question","checkAnswer","modelValue"]),e("div",tt,[t(w)?(i(),u("button",{key:0,onClick:g[2]||(g[2]=k=>r.value=!0),class:"app-button secondary text-sm"},n(x.$t("quiz.view_details")),1)):_("",!0),t(w)?(i(),u("button",{key:2,disabled:!t(m),class:"app-button primary text-sm",onClick:g[4]||(g[4]=(...k)=>t(V)&&t(V)(...k))},n(t(Q)?x.$t("quiz.finish_quiz"):x.$t("quiz.next_question")),9,ot)):(i(),u("button",{key:1,disabled:!t(m),class:"app-button primary text-sm",onClick:g[3]||(g[3]=(...k)=>t(S)&&t(S)(...k))},n(x.$t("quiz.verify_answer")),9,st))])])])):t(T)?(i(),q(Re,{key:2,userHistory:t(v),userStats:t(E),quiz:t(s)},null,8,["userHistory","userStats","quiz"])):_("",!0)])):_("",!0),(i(),q(ee,{to:"body"},[r.value?(i(),q(Ke,{key:0,question:t(d),onCloseModal:g[5]||(g[5]=k=>r.value=!1)},null,8,["question"])):_("",!0)]))],64)}}});export{nt as default};
