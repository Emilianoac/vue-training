import{C as De,e as $,f as U,d as E,c as w,g as a,h as O,z as He,t as m,o as b,F as L,H as _e,D as W,u as X,E as ze,y as f,r as F,n as Ie,i as A,a as j,I as Ne,s as $e,w as qe,J as Re,K as ae,L as Ve,p as ue,M as Te,N as Ue,q as Be,T as Ge}from"./index-l3RHReiV.js";import{m as P}from"./marked.esm-DKjyhwJX.js";async function Ke(e){try{const t=De.find(s=>s.id===e);if(!t)throw new Error("Quiz not found");return await new Promise(s=>setTimeout(s,0)),t}catch(t){throw new Error(t instanceof Error?t.message:"An unexpected error occurred")}}const We=e=>{const t=e.filter(i=>i.answers.some(r=>r.isSelected&&r.isCorrect)).length,s=e.length-t,o=e.length,n=o>0?t/o*100:0;return{correct:t,wrong:s,percentage:n,total:o}},Je=(e,t)=>{const s=e.answers.map(o=>({...o,isSelected:o.id===t}));return{question:e.questionText,answers:s,explanation:e.correctAnswerExplanation,codeExample:e.correctAnswerCodeExample}};function Xe(){const e=$(null),t=$({status:!1,message:""}),s=$(!1),o=$(!1),n=$(0),i=$(0),r=$(null),l=$(!1),u=$(!1),c=$(null),d=$(null),p=$([]),g=$({correct:0,wrong:0,percentage:0,total:0}),x=U(()=>e.value?e.value.questions[i.value]:null),_=U(()=>e.value?i.value===e.value.questions.length-1:!1),k=U(()=>c.value&&d.value?Math.floor((d.value-c.value)/1e3):0);async function h(S){try{const C=await Ke(S);e.value=C,v()}catch(C){z(C)}}function Q(){o.value=!0,c.value=Date.now()}function T(){if(!x.value){z("No current question available.");return}const S=Je(x.value,r.value);p.value.push(S),l.value=!0}function q(){if(_.value){y();return}I(),M()}function I(){if(!e.value){z("Quiz data is not loaded.");return}i.value++,n.value=(i.value+1)/e.value.questions.length*100}function M(){r.value=null,l.value=!1}function v(){n.value=0,i.value=0,r.value=null,l.value=!1,u.value=!1,p.value=[],g.value={correct:0,wrong:0,percentage:0,total:0},c.value=Date.now(),d.value=null}function y(){d.value=Date.now(),u.value=!0,g.value=We(p.value)}function z(S){t.value.status=!0,t.value.message=S instanceof Error?S.message:"An unexpected error occurred"}return{quiz:e,error:t,showDetails:s,isQuizInitialized:o,quizProgress:n,currentQuestionIndex:i,currentQuestion:x,selectedOptionId:r,hasCheckedAnswer:l,userStats:g,userHistory:p,isLastQuestion:_,isFinished:u,elapsedTime:k,startQuiz:Q,resetQuizState:v,loadQuiz:h,answerCurrentQuestion:T,goToNextQuestion:q}}const Ye={class:"max-w-[500px] mx-auto bg-slate-50 dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 rounded-md p-8"},Ze={class:"flex items-start justify-between mb-5"},et={class:"bg-slate-200 dark:bg-slate-800/50 rounded-full h-[60px] w-[60px] flex items-center justify-center flex-shrink-0"},tt=["src"],nt={class:"flex items-start mb-6 gap-3"},st={class:"font-bold text-2xl mb-3"},ot={class:"opacity-85"},it=E({__name:"QuizWelcome",props:{title:{},description:{},image:{},category:{},level:{},levelLabel:{}},emits:["startQuiz"],setup(e){return(t,s)=>(b(),w("div",Ye,[a("div",null,[a("div",Ze,[a("div",et,[a("img",{class:"max-w-[30px]",src:t.image,alt:"Quiz Image"},null,8,tt)]),O(He,{type:t.level,text:t.levelLabel,class:"mb-3"},null,8,["type","text"])]),a("div",nt,[a("div",null,[a("h1",st,m(t.title),1),a("p",ot,m(t.description),1)])])]),a("button",{class:"app-button primary font-semibold mx-auto block w-full",onClick:s[0]||(s[0]=o=>t.$emit("startQuiz"))},m(t.$t("quiz.start_quiz")),1)]))}}),rt={class:"flex justify-between items-center mb-4"},lt={class:"text-sm font-semibold text-gray-500 dark:text-gray-400"},ct={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-6"},at=E({__name:"QuizProgress",props:{progress:{},currentQuestionIndex:{},quizLength:{}},setup(e){return(t,s)=>(b(),w(L,null,[a("div",rt,[a("p",lt,m(t.$t("quiz.question"))+" "+m(t.currentQuestionIndex)+" "+m(t.$t("general.of"))+" "+m(t.quizLength),1)]),a("div",ct,[a("div",{class:"bg-color-primary h-2.5 rounded-full transition-[width] duration-500 ease-in-out",style:_e({width:`${t.progress}%`})},null,4)])],64))}}),ut={class:"flex items-center text-xl font-bold mb-4"},dt={class:"block me-1"},ft=["innerHTML"],pt=["value","checked","disabled","onChange","id"],ht=["for"],mt=["innerHTML"],gt={key:0,class:"text-xs font-bold inline-block text-end text-green-500"},bt={key:1,class:"text-xs font-bold inline-block text-end text-red-500"},vt=E({__name:"QuizQuestion",props:W({modelValue:{},question:{},checkAnswer:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:W(["update:modelValue"],["update:modelValue"]),setup(e,{emit:t}){const s=X(),o=ze(e,"modelValue"),n=t;return(i,r)=>(b(),w(L,null,[a("div",ut,[a("span",dt,m(i.question.id)+".",1),a("div",{class:"question-text",innerHTML:f(P)(i.question.questionText[f(s).locale])},null,8,ft)]),a("ul",null,[(b(!0),w(L,null,F(i.question.answers,l=>(b(),w("li",{key:l.id,class:"flex items-center rounded-md gap-2 cursor-pointer relative mb-2"},[a("input",{class:"curson-pointer ms-2 peer absolute z-10",value:l.id,checked:o.value===l.id,disabled:i.checkAnswer,onChange:u=>n("update:modelValue",l.id),type:"radio",name:"answer",id:`answer-${l.id}`},null,40,pt),a("label",{for:`answer-${l.id}`,class:Ie(["grid grid-cols-1 md:grid-cols-[1fr,max-content] items-center w-full h-full p-4 cursor-pointer rounded-md border border-slate-200 dark:border-slate-800 peer-checked:border-blue-500",{"!border-green-500":i.checkAnswer&&l.isCorrect,"!border-red-500":i.checkAnswer&&!l.isCorrect,"hover:bg-gray-100 dark:hover:bg-slate-800":!i.checkAnswer,"cursor-not-allowed opacity-85":i.checkAnswer}])},[a("span",{class:"block w-full text-start pl-3",innerHTML:f(P)(l.answerText[f(s).locale])},null,8,mt),i.checkAnswer&&l.isCorrect?(b(),w("span",gt,m(o.value===l.id?i.$t("quiz.your_answer"):i.$t("quiz.correct_answer")),1)):A("",!0),i.checkAnswer&&!l.isCorrect&&o.value===l.id?(b(),w("span",bt,m(i.$t("quiz.your_answer")),1)):A("",!0)],10,ht)]))),128))])],64))}}),yt={key:0,class:"max-w-[950px] mx-auto"},xt={class:"text-xl font-bold mb-6"},wt={class:"bg-white dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 p-4 rounded-md mx-auto"},kt={class:"flex justify-end items-center gap-3 mt-6"},_t=["disabled"],zt=["disabled"],It=E({__name:"QuizOnProgress",props:W({isFinished:{type:Boolean},isQuizInitialized:{type:Boolean},title:{},quizProgress:{},currentQuestionIndex:{},currentQuestion:{},quiz:{},hasCheckedAnswer:{type:Boolean},selectedOptionId:{},isLastQuestion:{type:Boolean}},{selectedOptionId:{},selectedOptionIdModifiers:{}}),emits:W(["update:showDetails","answerCurrentQuestion","goToNextQuestion","update:selectedOptionId"],["update:selectedOptionId"]),setup(e,{emit:t}){const s=ze(e,"selectedOptionId"),o=t;return(n,i)=>{var r;return!n.isFinished&&n.isQuizInitialized?(b(),w("div",yt,[a("h1",xt,m(n.title),1),a("div",wt,[O(at,{progress:n.quizProgress,currentQuestionIndex:n.currentQuestionIndex+1,quizLength:(r=n.quiz)==null?void 0:r.questions.length},null,8,["progress","currentQuestionIndex","quizLength"]),n.currentQuestion?(b(),j(vt,{key:0,question:n.currentQuestion,checkAnswer:n.hasCheckedAnswer,"model-value":s.value,"onUpdate:modelValue":i[0]||(i[0]=l=>o("update:selectedOptionId",l))},null,8,["question","checkAnswer","model-value"])):A("",!0),a("div",kt,[n.hasCheckedAnswer&&n.currentQuestion?(b(),w("button",{key:0,onClick:i[1]||(i[1]=l=>o("update:showDetails",!0)),class:"app-button secondary text-sm"},m(n.$t("quiz.view_details")),1)):A("",!0),!n.hasCheckedAnswer&&n.currentQuestion?(b(),w("button",{key:1,disabled:!s.value,class:"app-button primary text-sm",onClick:i[2]||(i[2]=l=>o("answerCurrentQuestion"))},m(n.$t("quiz.verify_answer")),9,_t)):(b(),w("button",{key:2,disabled:!s.value,class:"app-button primary text-sm",onClick:i[3]||(i[3]=l=>o("goToNextQuestion"))},m(n.isLastQuestion?n.$t("quiz.finish_quiz"):n.$t("quiz.next_question")),9,zt))])])])):A("",!0)}}}),Se=/^[a-z0-9]+(-[a-z0-9]+)*$/,Y=(e,t,s,o="")=>{const n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;o=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const l=n.pop(),u=n.pop(),c={provider:n.length>0?n[0]:o,prefix:u,name:l};return t&&!B(c)?null:c}const i=n[0],r=i.split("-");if(r.length>1){const l={provider:o,prefix:r.shift(),name:r.join("-")};return t&&!B(l)?null:l}if(s&&o===""){const l={provider:o,prefix:"",name:i};return t&&!B(l,s)?null:l}return null},B=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,Ce=Object.freeze({left:0,top:0,width:16,height:16}),J=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Z=Object.freeze({...Ce,...J}),ne=Object.freeze({...Z,body:"",hidden:!1});function $t(e,t){const s={};!e.hFlip!=!t.hFlip&&(s.hFlip=!0),!e.vFlip!=!t.vFlip&&(s.vFlip=!0);const o=((e.rotate||0)+(t.rotate||0))%4;return o&&(s.rotate=o),s}function de(e,t){const s=$t(e,t);for(const o in ne)o in J?o in e&&!(o in s)&&(s[o]=J[o]):o in t?s[o]=t[o]:o in e&&(s[o]=e[o]);return s}function qt(e,t){const s=e.icons,o=e.aliases||Object.create(null),n=Object.create(null);function i(r){if(s[r])return n[r]=[];if(!(r in n)){n[r]=null;const l=o[r]&&o[r].parent,u=l&&i(l);u&&(n[r]=[l].concat(u))}return n[r]}return Object.keys(s).concat(Object.keys(o)).forEach(i),n}function Tt(e,t,s){const o=e.icons,n=e.aliases||Object.create(null);let i={};function r(l){i=de(o[l]||n[l],i)}return r(t),s.forEach(r),de(e,i)}function Qe(e,t){const s=[];if(typeof e!="object"||typeof e.icons!="object")return s;e.not_found instanceof Array&&e.not_found.forEach(n=>{t(n,null),s.push(n)});const o=qt(e);for(const n in o){const i=o[n];i&&(t(n,Tt(e,n,i)),s.push(n))}return s}const St={provider:"",aliases:{},not_found:{},...Ce};function ee(e,t){for(const s in t)if(s in e&&typeof e[s]!=typeof t[s])return!1;return!0}function Le(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!ee(e,St))return null;const s=t.icons;for(const n in s){const i=s[n];if(!n||typeof i.body!="string"||!ee(i,ne))return null}const o=t.aliases||Object.create(null);for(const n in o){const i=o[n],r=i.parent;if(!n||typeof r!="string"||!s[r]&&!o[r]||!ee(i,ne))return null}return t}const fe=Object.create(null);function Ct(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function D(e,t){const s=fe[e]||(fe[e]=Object.create(null));return s[t]||(s[t]=Ct(e,t))}function Ae(e,t){return Le(t)?Qe(t,(s,o)=>{o?e.icons[s]=o:e.missing.add(s)}):[]}function Qt(e,t,s){try{if(typeof s.body=="string")return e.icons[t]={...s},!0}catch{}return!1}let V=!1;function je(e){return typeof e=="boolean"&&(V=e),V}function Lt(e){const t=typeof e=="string"?Y(e,!0,V):e;if(t){const s=D(t.provider,t.prefix),o=t.name;return s.icons[o]||(s.missing.has(o)?null:void 0)}}function At(e,t){const s=Y(e,!0,V);if(!s)return!1;const o=D(s.provider,s.prefix);return t?Qt(o,s.name,t):(o.missing.add(s.name),!0)}function jt(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),V&&!t&&!e.prefix){let n=!1;return Le(e)&&(e.prefix="",Qe(e,(i,r)=>{At(i,r)&&(n=!0)})),n}const s=e.prefix;if(!B({prefix:s,name:"a"}))return!1;const o=D(t,s);return!!Ae(o,e)}const Me=Object.freeze({width:null,height:null}),Pe=Object.freeze({...Me,...J}),Mt=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Pt=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function pe(e,t,s){if(t===1)return e;if(s=s||100,typeof e=="number")return Math.ceil(e*t*s)/s;if(typeof e!="string")return e;const o=e.split(Mt);if(o===null||!o.length)return e;const n=[];let i=o.shift(),r=Pt.test(i);for(;;){if(r){const l=parseFloat(i);isNaN(l)?n.push(i):n.push(Math.ceil(l*t*s)/s)}else n.push(i);if(i=o.shift(),i===void 0)return n.join("");r=!r}}function Et(e,t="defs"){let s="";const o=e.indexOf("<"+t);for(;o>=0;){const n=e.indexOf(">",o),i=e.indexOf("</"+t);if(n===-1||i===-1)break;const r=e.indexOf(">",i);if(r===-1)break;s+=e.slice(n+1,i).trim(),e=e.slice(0,o).trim()+e.slice(r+1)}return{defs:s,content:e}}function Ot(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Ft(e,t,s){const o=Et(e);return Ot(o.defs,t+o.content+s)}const Dt=e=>e==="unset"||e==="undefined"||e==="none";function Ht(e,t){const s={...Z,...e},o={...Pe,...t},n={left:s.left,top:s.top,width:s.width,height:s.height};let i=s.body;[s,o].forEach(k=>{const h=[],Q=k.hFlip,T=k.vFlip;let q=k.rotate;Q?T?q+=2:(h.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),h.push("scale(-1 1)"),n.top=n.left=0):T&&(h.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),h.push("scale(1 -1)"),n.top=n.left=0);let I;switch(q<0&&(q-=Math.floor(q/4)*4),q=q%4,q){case 1:I=n.height/2+n.top,h.unshift("rotate(90 "+I.toString()+" "+I.toString()+")");break;case 2:h.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:I=n.width/2+n.left,h.unshift("rotate(-90 "+I.toString()+" "+I.toString()+")");break}q%2===1&&(n.left!==n.top&&(I=n.left,n.left=n.top,n.top=I),n.width!==n.height&&(I=n.width,n.width=n.height,n.height=I)),h.length&&(i=Ft(i,'<g transform="'+h.join(" ")+'">',"</g>"))});const r=o.width,l=o.height,u=n.width,c=n.height;let d,p;r===null?(p=l===null?"1em":l==="auto"?c:l,d=pe(p,u/c)):(d=r==="auto"?u:r,p=l===null?pe(d,c/u):l==="auto"?c:l);const g={},x=(k,h)=>{Dt(h)||(g[k]=h.toString())};x("width",d),x("height",p);const _=[n.left,n.top,u,c];return g.viewBox=_.join(" "),{attributes:g,viewBox:_,body:i}}const Nt=/\sid="(\S+)"/g,Rt="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Vt=0;function Ut(e,t=Rt){const s=[];let o;for(;o=Nt.exec(e);)s.push(o[1]);if(!s.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return s.forEach(i=>{const r=typeof t=="function"?t(i):t+(Vt++).toString(),l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+r+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}const se=Object.create(null);function Bt(e,t){se[e]=t}function oe(e){return se[e]||se[""]}function re(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const le=Object.create(null),H=["https://api.simplesvg.com","https://api.unisvg.com"],G=[];for(;H.length>0;)H.length===1||Math.random()>.5?G.push(H.shift()):G.push(H.pop());le[""]=re({resources:["https://api.iconify.design"].concat(G)});function Gt(e,t){const s=re(t);return s===null?!1:(le[e]=s,!0)}function ce(e){return le[e]}const Kt=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let he=Kt();function Wt(e,t){const s=ce(e);if(!s)return 0;let o;if(!s.maxURL)o=0;else{let n=0;s.resources.forEach(r=>{n=Math.max(n,r.length)});const i=t+".json?icons=";o=s.maxURL-n-s.path.length-i.length}return o}function Jt(e){return e===404}const Xt=(e,t,s)=>{const o=[],n=Wt(e,t),i="icons";let r={type:i,provider:e,prefix:t,icons:[]},l=0;return s.forEach((u,c)=>{l+=u.length+1,l>=n&&c>0&&(o.push(r),r={type:i,provider:e,prefix:t,icons:[]},l=u.length),r.icons.push(u)}),o.push(r),o};function Yt(e){if(typeof e=="string"){const t=ce(e);if(t)return t.path}return"/"}const Zt=(e,t,s)=>{if(!he){s("abort",424);return}let o=Yt(t.provider);switch(t.type){case"icons":{const i=t.prefix,l=t.icons.join(","),u=new URLSearchParams({icons:l});o+=i+".json?"+u.toString();break}case"custom":{const i=t.uri;o+=i.slice(0,1)==="/"?i.slice(1):i;break}default:s("abort",400);return}let n=503;he(e+o).then(i=>{const r=i.status;if(r!==200){setTimeout(()=>{s(Jt(r)?"abort":"next",r)});return}return n=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?s("abort",i):s("next",n)});return}setTimeout(()=>{s("success",i)})}).catch(()=>{s("next",n)})},en={prepare:Xt,send:Zt};function tn(e){const t={loaded:[],missing:[],pending:[]},s=Object.create(null);e.sort((n,i)=>n.provider!==i.provider?n.provider.localeCompare(i.provider):n.prefix!==i.prefix?n.prefix.localeCompare(i.prefix):n.name.localeCompare(i.name));let o={provider:"",prefix:"",name:""};return e.forEach(n=>{if(o.name===n.name&&o.prefix===n.prefix&&o.provider===n.provider)return;o=n;const i=n.provider,r=n.prefix,l=n.name,u=s[i]||(s[i]=Object.create(null)),c=u[r]||(u[r]=D(i,r));let d;l in c.icons?d=t.loaded:r===""||c.missing.has(l)?d=t.missing:d=t.pending;const p={provider:i,prefix:r,name:l};d.push(p)}),t}function Ee(e,t){e.forEach(s=>{const o=s.loaderCallbacks;o&&(s.loaderCallbacks=o.filter(n=>n.id!==t))})}function nn(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let s=!1;const o=e.provider,n=e.prefix;t.forEach(i=>{const r=i.icons,l=r.pending.length;r.pending=r.pending.filter(u=>{if(u.prefix!==n)return!0;const c=u.name;if(e.icons[c])r.loaded.push({provider:o,prefix:n,name:c});else if(e.missing.has(c))r.missing.push({provider:o,prefix:n,name:c});else return s=!0,!0;return!1}),r.pending.length!==l&&(s||Ee([e],i.id),i.callback(r.loaded.slice(0),r.missing.slice(0),r.pending.slice(0),i.abort))})}))}let sn=0;function on(e,t,s){const o=sn++,n=Ee.bind(null,s,o);if(!t.pending.length)return n;const i={id:o,icons:t,callback:e,abort:n};return s.forEach(r=>{(r.loaderCallbacks||(r.loaderCallbacks=[])).push(i)}),n}function rn(e,t=!0,s=!1){const o=[];return e.forEach(n=>{const i=typeof n=="string"?Y(n,t,s):n;i&&o.push(i)}),o}var ln={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function cn(e,t,s,o){const n=e.resources.length,i=e.random?Math.floor(Math.random()*n):e.index;let r;if(e.random){let v=e.resources.slice(0);for(r=[];v.length>1;){const y=Math.floor(Math.random()*v.length);r.push(v[y]),v=v.slice(0,y).concat(v.slice(y+1))}r=r.concat(v)}else r=e.resources.slice(i).concat(e.resources.slice(0,i));const l=Date.now();let u="pending",c=0,d,p=null,g=[],x=[];typeof o=="function"&&x.push(o);function _(){p&&(clearTimeout(p),p=null)}function k(){u==="pending"&&(u="aborted"),_(),g.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),g=[]}function h(v,y){y&&(x=[]),typeof v=="function"&&x.push(v)}function Q(){return{startTime:l,payload:t,status:u,queriesSent:c,queriesPending:g.length,subscribe:h,abort:k}}function T(){u="failed",x.forEach(v=>{v(void 0,d)})}function q(){g.forEach(v=>{v.status==="pending"&&(v.status="aborted")}),g=[]}function I(v,y,z){const S=y!=="success";switch(g=g.filter(C=>C!==v),u){case"pending":break;case"failed":if(S||!e.dataAfterTimeout)return;break;default:return}if(y==="abort"){d=z,T();return}if(S){d=z,g.length||(r.length?M():T());return}if(_(),q(),!e.random){const C=e.resources.indexOf(v.resource);C!==-1&&C!==e.index&&(e.index=C)}u="completed",x.forEach(C=>{C(z)})}function M(){if(u!=="pending")return;_();const v=r.shift();if(v===void 0){if(g.length){p=setTimeout(()=>{_(),u==="pending"&&(q(),T())},e.timeout);return}T();return}const y={status:"pending",resource:v,callback:(z,S)=>{I(y,z,S)}};g.push(y),c++,p=setTimeout(M,e.rotate),s(v,t,y.callback)}return setTimeout(M),Q}function Oe(e){const t={...ln,...e};let s=[];function o(){s=s.filter(l=>l().status==="pending")}function n(l,u,c){const d=cn(t,l,u,(p,g)=>{o(),c&&c(p,g)});return s.push(d),d}function i(l){return s.find(u=>l(u))||null}return{query:n,find:i,setIndex:l=>{t.index=l},getIndex:()=>t.index,cleanup:o}}function me(){}const te=Object.create(null);function an(e){if(!te[e]){const t=ce(e);if(!t)return;const s=Oe(t),o={config:t,redundancy:s};te[e]=o}return te[e]}function un(e,t,s){let o,n;if(typeof e=="string"){const i=oe(e);if(!i)return s(void 0,424),me;n=i.send;const r=an(e);r&&(o=r.redundancy)}else{const i=re(e);if(i){o=Oe(i);const r=e.resources?e.resources[0]:"",l=oe(r);l&&(n=l.send)}}return!o||!n?(s(void 0,424),me):o.query(t,n,s)().abort}function ge(){}function dn(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,nn(e)}))}function fn(e){const t=[],s=[];return e.forEach(o=>{(o.match(Se)?t:s).push(o)}),{valid:t,invalid:s}}function N(e,t,s){function o(){const n=e.pendingIcons;t.forEach(i=>{n&&n.delete(i),e.icons[i]||e.missing.add(i)})}if(s&&typeof s=="object")try{if(!Ae(e,s).length){o();return}}catch(n){console.error(n)}o(),dn(e)}function be(e,t){e instanceof Promise?e.then(s=>{t(s)}).catch(()=>{t(null)}):t(e)}function pn(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:s,prefix:o}=e,n=e.iconsToLoad;if(delete e.iconsToLoad,!n||!n.length)return;const i=e.loadIcon;if(e.loadIcons&&(n.length>1||!i)){be(e.loadIcons(n,o,s),d=>{N(e,n,d)});return}if(i){n.forEach(d=>{const p=i(d,o,s);be(p,g=>{const x=g?{prefix:o,icons:{[d]:g}}:null;N(e,[d],x)})});return}const{valid:r,invalid:l}=fn(n);if(l.length&&N(e,l,null),!r.length)return;const u=o.match(Se)?oe(s):null;if(!u){N(e,r,null);return}u.prepare(s,o,r).forEach(d=>{un(s,d,p=>{N(e,d.icons,p)})})}))}const hn=(e,t)=>{const s=rn(e,!0,je()),o=tn(s);if(!o.pending.length){let u=!0;return t&&setTimeout(()=>{u&&t(o.loaded,o.missing,o.pending,ge)}),()=>{u=!1}}const n=Object.create(null),i=[];let r,l;return o.pending.forEach(u=>{const{provider:c,prefix:d}=u;if(d===l&&c===r)return;r=c,l=d,i.push(D(c,d));const p=n[c]||(n[c]=Object.create(null));p[d]||(p[d]=[])}),o.pending.forEach(u=>{const{provider:c,prefix:d,name:p}=u,g=D(c,d),x=g.pendingIcons||(g.pendingIcons=new Set);x.has(p)||(x.add(p),n[c][d].push(p))}),i.forEach(u=>{const c=n[u.provider][u.prefix];c.length&&pn(u,c)}),t?on(t,o,i):ge};function mn(e,t){const s={...e};for(const o in t){const n=t[o],i=typeof n;o in Me?(n===null||n&&(i==="string"||i==="number"))&&(s[o]=n):i===typeof s[o]&&(s[o]=o==="rotate"?n%4:n)}return s}const gn=/[\s,]+/;function bn(e,t){t.split(gn).forEach(s=>{switch(s.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function vn(e,t=0){const s=e.replace(/^-?[0-9.]*/,"");function o(n){for(;n<0;)n+=4;return n%4}if(s===""){const n=parseInt(e);return isNaN(n)?0:o(n)}else if(s!==e){let n=0;switch(s){case"%":n=25;break;case"deg":n=90}if(n){let i=parseFloat(e.slice(0,e.length-s.length));return isNaN(i)?0:(i=i/n,i%1===0?o(i):0)}}return t}function yn(e,t){let s=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)s+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+s+">"+e+"</svg>"}function xn(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function wn(e){return"data:image/svg+xml,"+xn(e)}function kn(e){return'url("'+wn(e)+'")'}const ve={...Pe,inline:!1},_n={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},zn={display:"inline-block"},ie={backgroundColor:"currentColor"},Fe={backgroundColor:"transparent"},ye={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},xe={webkitMask:ie,mask:ie,background:Fe};for(const e in xe){const t=xe[e];for(const s in ye)t[e+s]=ye[s]}const K={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";K[e+"-flip"]=t,K[e.slice(0,1)+"-flip"]=t,K[e+"Flip"]=t});function we(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const ke=(e,t)=>{const s=mn(ve,t),o={..._n},n=t.mode||"svg",i={},r=t.style,l=typeof r=="object"&&!(r instanceof Array)?r:{};for(let k in t){const h=t[k];if(h!==void 0)switch(k){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":s[k]=h===!0||h==="true"||h===1;break;case"flip":typeof h=="string"&&bn(s,h);break;case"color":i.color=h;break;case"rotate":typeof h=="string"?s[k]=vn(h):typeof h=="number"&&(s[k]=h);break;case"ariaHidden":case"aria-hidden":h!==!0&&h!=="true"&&delete o["aria-hidden"];break;default:{const Q=K[k];Q?(h===!0||h==="true"||h===1)&&(s[Q]=!0):ve[k]===void 0&&(o[k]=h)}}}const u=Ht(e,s),c=u.attributes;if(s.inline&&(i.verticalAlign="-0.125em"),n==="svg"){o.style={...i,...l},Object.assign(o,c);let k=0,h=t.id;return typeof h=="string"&&(h=h.replace(/-/g,"_")),o.innerHTML=Ut(u.body,h?()=>h+"ID"+k++:"iconifyVue"),ae("svg",o)}const{body:d,width:p,height:g}=e,x=n==="mask"||(n==="bg"?!1:d.indexOf("currentColor")!==-1),_=yn(d,{...c,width:p+"",height:g+""});return o.style={...i,"--svg":kn(_),width:we(c.width),height:we(c.height),...zn,...x?ie:Fe,...l},ae("span",o)};je(!0);Bt("",en);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,s="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!jt(o))&&console.error(s)}catch{console.error(s)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let s in t){const o="IconifyProviders["+s+"] is invalid.";try{const n=t[s];if(typeof n!="object"||!n||n.resources===void 0)continue;Gt(s,n)||console.error(o)}catch{console.error(o)}}}}const In={...Z,body:""},R=E((e,{emit:t})=>{const s=$(null);function o(){var c,d;s.value&&((d=(c=s.value).abort)==null||d.call(c),s.value=null)}const n=$(!!e.ssr),i=$(""),r=Ne(null);function l(){const c=e.icon;if(typeof c=="object"&&c!==null&&typeof c.body=="string")return i.value="",{data:c};let d;if(typeof c!="string"||(d=Y(c,!1,!0))===null)return null;let p=Lt(d);if(!p){const _=s.value;return(!_||_.name!==c)&&(p===null?s.value={name:c}:s.value={name:c,abort:hn([d],u)}),null}o(),i.value!==c&&(i.value=c,Ve(()=>{t("load",c)}));const g=e.customise;if(g){p=Object.assign({},p);const _=g(p.body,d.name,d.prefix,d.provider);typeof _=="string"&&(p.body=_)}const x=["iconify"];return d.prefix!==""&&x.push("iconify--"+d.prefix),d.provider!==""&&x.push("iconify--"+d.provider),{data:p,classes:x}}function u(){var d;const c=l();c?c.data!==((d=r.value)==null?void 0:d.data)&&(r.value=c):r.value=null}return n.value?u():$e(()=>{n.value=!0,u()}),qe(()=>e.icon,u),Re(o),()=>{const c=r.value;if(!c)return ke(In,e);let d=e;return c.classes&&(d={...e,class:c.classes.join(" ")}),ke({...Z,...c.data},d)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),$n={class:"text-4xl font-bold"},qn={class:"text-slate-500 dark:text-slate-400 mt-2 mb-6"},Tn={class:"grid grid-cols-1 lg:grid-cols-[1.5fr_0.8fr] gap-6"},Sn={class:"bg-slate-50 dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 p-7 rounded-lg min-h-[300px]"},Cn={class:"font-semibold mb-7 flex items-center"},Qn={class:"grid grid-cols-2 items-center gap-4 mb-10"},Ln={class:"font-bold text-6xl"},An={class:"text-slate-500 dark:text-slate-400 text-sm"},jn={class:"flex justify-center items-center justify-self-end"},Mn={class:"grid grid-cols-2 gap-4"},Pn={class:"bg-white dark:bg-slate-700/50 flex flex-col justify-center items-center rounded-md p-4"},En={class:"text-2xl font-bold text-green-500"},On={class:"text-sm"},Fn={class:"bg-white dark:bg-slate-700/50 flex flex-col justify-center items-center rounded-md p-4"},Dn={class:"text-2xl font-bold text-red-500"},Hn={class:"text-sm"},Nn={class:"bg-slate-50 dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 p-7 rounded-lg min-h-[300px]"},Rn={class:"mb-6"},Vn={class:"flex justify-between items-center mb-2"},Un={class:"font-bold"},Bn={class:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5"},Gn={class:"flex items-center mb-5 gap-3"},Kn={class:"text-slate-500 text-sm"},Wn={class:"font-semibold"},Jn={class:"flex items-center mb-5 gap-3"},Xn={class:"text-slate-500 text-sm"},Yn={class:"font-semibold"},Zn={class:"mt-8"},es={class:"text-2xl font-bold mb-4"},ts={class:"flex items-start font-semibold text-[1.1em] mb-4"},ns={class:"block me-1"},ss=["innerHTML"],os=["innerHTML"],is={key:0,class:"block text-end text-xs font-semibold text-green-500 mt-3 md:mt-0"},rs={key:1,class:"block text-end text-xs font-semibold text-red-500 mt-3 md:mt-0"},ls={class:"mt-4"},cs={class:"cursor-pointer font-semibold"},as=["innerHTML"],us=E({__name:"QuizResults",props:{userHistory:{},userStats:{},elapsedTime:{},quiz:{}},emits:["resetQuiz"],setup(e){const t=X(),o=n(e.userStats.percentage);function n(i){let l=i/100*3;i>0&&l<.5&&(l=.5);const u=[];for(let c=0;c<3;c++)l>=1?(u.push("full"),l-=1):l>=.5?(u.push("half"),l-=.5):u.push("empty");return u}return(i,r)=>{var u;const l=Te("highlightjs");return b(),w(L,null,[a("h1",$n,m((u=i.quiz)==null?void 0:u.title[f(t).locale]),1),a("p",qn,m(i.$t("quiz.results.quiz_completed")),1),a("div",Tn,[a("div",Sn,[a("p",Cn,[O(f(R),{icon:"mdi:trophy",class:"text-yellow-500 me-2"}),ue(" "+m(i.$t("quiz.results.your_score")),1)]),a("div",Qn,[a("div",null,[a("span",Ln,m(i.userStats.percentage)+"%",1),a("p",An,m(i.$t("quiz.results.success_rate")),1)]),a("div",jn,[(b(!0),w(L,null,F(f(o),(c,d)=>(b(),j(f(R),{key:d,icon:c==="full"?"line-md:star-filled":c==="half"?"line-md:star-filled-half":"line-md:star",class:"text-yellow-400 text-4xl"},null,8,["icon"]))),128))])]),a("div",Mn,[a("div",Pn,[a("p",En,m(i.userStats.correct),1),a("p",On,m(i.$t("quiz.results.correct")),1)]),a("div",Fn,[a("p",Dn,m(i.userStats.wrong),1),a("p",Hn,m(i.$t("quiz.results.wrong")),1)])])]),a("div",Nn,[a("div",Rn,[a("div",Vn,[a("p",null,m(i.$t("quiz.results.accuracy")),1),a("p",Un,m(i.userStats.percentage)+"%",1)]),a("div",Bn,[a("div",{class:"bg-color-primary h-2.5 rounded-full",style:_e({width:`${i.userStats.percentage}%`})},null,4)])]),a("div",Gn,[O(f(R),{icon:"mdi:clock-outline",class:"text-xl"}),a("div",null,[a("p",Kn,m(i.$t("quiz.results.time_taken")),1),a("p",Wn,m(Math.floor(i.elapsedTime/60)?Math.floor(i.elapsedTime/60)+" min":"")+" "+m(i.elapsedTime%60)+" seconds ",1)])]),a("div",Jn,[O(f(R),{icon:"mdi:checkbox-marked-circle-outline",class:"text-green-500 text-xl"}),a("div",null,[a("p",Xn,m(i.$t("quiz.results.questions_correctly_answered")),1),a("p",Yn,m(i.userStats.correct)+" / "+m(i.userStats.total),1)])]),a("button",{onClick:r[0]||(r[0]=c=>i.$emit("resetQuiz")),class:"app-button primary w-full mt-10"},[O(f(R),{icon:"mdi:rotate-left",class:"me-2 text-xl"}),ue(" "+m(i.$t("quiz.results.retake_quiz")),1)])])]),a("div",Zn,[a("h2",es,m(i.$t("quiz.results.question_review")),1),a("ul",null,[(b(!0),w(L,null,F(i.userHistory,(c,d)=>(b(),w("li",{key:d,class:"bg-slate-50 dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 p-6 rounded-md mb-6 last:mb-0"},[a("div",ts,[a("span",ns,m(d+1)+".",1),a("div",{innerHTML:f(P)(c.question[f(t).locale])},null,8,ss)]),a("ul",null,[(b(!0),w(L,null,F(c.answers,p=>(b(),w("li",{key:p.id,class:Ie(["block md:flex justify-between items-center mb-2 border border-slate-200 dark:border-slate-800 p-3 rounded-md",{"!border-green-500":p.isCorrect,"!border-red-500":!p.isCorrect&&p.isSelected}])},[a("div",{class:"block",innerHTML:f(P)(p.answerText[f(t).locale])},null,8,os),p.isCorrect?(b(),w("span",is,m(p.isSelected?i.$t("quiz.your_answer"):i.$t("quiz.correct_answer")),1)):A("",!0),!p.isCorrect&&p.isSelected?(b(),w("span",rs,m(i.$t("quiz.your_answer")),1)):A("",!0)],2))),128))]),a("details",ls,[a("summary",cs," Show "+m(i.$t("quiz.explanation")),1),a("div",{class:"bg-slate-200 dark:bg-slate-800 rounded-md mt-2 p-3",innerHTML:f(P)(c.explanation[f(t).locale])},null,8,as),(b(!0),w(L,null,F(c.codeExample[f(t).locale],p=>(b(),j(l,{class:"text-xs md:text-base rounded-md overflow-hidden mt-5 mb-4 last-of-type:mb-0",language:p.language,code:p.code},null,8,["language","code"]))),256))])]))),128))])])],64)}}}),ds={class:"bg-white dark:bg-slate-900 rounded-md w-full max-w-[700px] max-h-[90vh] overflow-y-auto relative mx-6"},fs={class:"p-4 md:p-8 text-sm md:text-base"},ps={class:"mt-4"},hs={class:"font-bold"},ms=["innerHTML"],gs=["innerHTML"],bs={class:"font-bold"},vs=["innerHTML"],ys=E({__name:"QuizQuestionDetailsModal",props:{question:{}},emits:["closeModal"],setup(e){const t=X(),s=e,o=U(()=>s.question.answers.find(n=>n.isCorrect));return(n,i)=>{var l;const r=Te("highlightjs");return b(),w("div",{class:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-black bg-opacity-50 z-[9999] backdrop-blur-md",onClick:i[1]||(i[1]=Ue(u=>n.$emit("closeModal"),["self"]))},[a("div",ds,[a("div",fs,[a("button",{onClick:i[0]||(i[0]=u=>n.$emit("closeModal")),class:"text-sm text-slate-600 dark:text-slate-400 absolute top-4 right-4 hover:text-slate-700 dark:hover:text-slate-300"}," [ "+m(n.$t("quiz.close_details"))+" ] ",1),a("dl",ps,[a("dt",hs,m(n.$t("quiz.question")),1),a("dd",{class:"mt-2",innerHTML:f(P)(n.question.questionText[f(t).locale])},null,8,ms),i[2]||(i[2]=a("dt",{class:"font-bold mt-4"},"Respuesta correcta",-1)),a("dd",{class:"mt-2",innerHTML:f(P)(((l=o.value)==null?void 0:l.answerText[f(t).locale])??"")},null,8,gs)]),i[3]||(i[3]=a("hr",{class:"my-5 border-slate-200 dark:border-slate-800"},null,-1)),a("h3",bs,m(n.$t("quiz.explanation")),1),a("div",{class:"mt-2 mb-5",innerHTML:f(P)(n.question.correctAnswerExplanation[f(t).locale])},null,8,vs),(b(!0),w(L,null,F(n.question.correctAnswerCodeExample[f(t).locale],u=>(b(),j(r,{class:"text-sm rounded-md overflow-hidden mt-4",language:u.language,code:u.code},null,8,["language","code"]))),256))])])])}}}),xs={key:0,class:"mt-10"},_s=E({__name:"QuizProfileView",setup(e){const t=X(),s=Be(),{quiz:o,showDetails:n,isQuizInitialized:i,hasCheckedAnswer:r,selectedOptionId:l,quizProgress:u,currentQuestionIndex:c,currentQuestion:d,isFinished:p,isLastQuestion:g,userHistory:x,userStats:_,elapsedTime:k,startQuiz:h,resetQuizState:Q,goToNextQuestion:T,loadQuiz:q,answerCurrentQuestion:I}=Xe();function M(){o.value&&(document.title=`${o.value.title[t.locale]} - Vue Training`)}return $e(async()=>{try{await q(s.params.id),M()}catch(v){console.error("Error loading quiz:",v)}}),qe(()=>t.locale,()=>{M()}),(v,y)=>(b(),w(L,null,[f(o)?(b(),w("div",xs,[!f(i)&&f(o)?(b(),j(it,{key:0,title:f(o).title[f(t).locale],description:f(o).description[f(t).locale],image:f(o).category.image,category:f(o).category.name,level:f(o).level,levelLabel:f(o).levelLabel[f(t).locale],onStartQuiz:y[0]||(y[0]=z=>f(h)())},null,8,["title","description","image","category","level","levelLabel"])):!f(p)&&f(i)?(b(),j(It,{key:1,isFinished:f(p),isQuizInitialized:f(i),title:f(o).title[f(t).locale],quizProgress:f(u),currentQuestionIndex:f(c),currentQuestion:f(d),quiz:f(o),selectedOptionId:f(l),hasCheckedAnswer:f(r),isLastQuestion:f(g),"onUpdate:showDetails":y[1]||(y[1]=z=>n.value=z),onAnswerCurrentQuestion:y[2]||(y[2]=z=>f(I)()),onGoToNextQuestion:y[3]||(y[3]=z=>f(T)()),"onUpdate:selectedOptionId":y[4]||(y[4]=z=>l.value=z)},null,8,["isFinished","isQuizInitialized","title","quizProgress","currentQuestionIndex","currentQuestion","quiz","selectedOptionId","hasCheckedAnswer","isLastQuestion"])):f(p)?(b(),j(us,{key:2,"elapsed-time":f(k),userHistory:f(x),userStats:f(_),quiz:f(o),onResetQuiz:y[5]||(y[5]=z=>f(Q)())},null,8,["elapsed-time","userHistory","userStats","quiz"])):A("",!0)])):A("",!0),(b(),j(Ge,{to:"body"},[f(n)&&f(d)?(b(),j(ys,{key:0,question:f(d),onCloseModal:y[6]||(y[6]=z=>n.value=!1)},null,8,["question"])):A("",!0)]))],64))}});export{_s as default};
