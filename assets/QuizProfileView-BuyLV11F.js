import{e as f,f as H,d as z,c as d,g as e,h as A,z as R,t as n,o as a,F as y,G as F,C as D,u as C,D as P,y as t,r as M,k as U,H as O,n as N,i as _,p as L,a as q,I as B,J as G,B as W,q as J,x as K,s as X,w as Y,K as Z,T as ee}from"./index-DGXlNwhB.js";import{m as $}from"./marked.esm-DKjyhwJX.js";function te(c){if(!c)throw new Error("No quiz provided");const o=f(!1),l=f(0),i=f(0),s=H(()=>c.questions[i.value]),r=f(null),b=f(!1),h=H(()=>i.value===c.questions.length-1),p=f(!1),u=f([]),m=f({correct:0,wrong:0,percentage:0,total:0});function T(){if(!c||!r.value||!s.value)return;const w=s.value.answers.map(v=>({id:v.id,answerText:v.answerText,isCorrect:v.isCorrect,isSelected:v.id===r.value}));u.value.push({question:s.value.questionText,answers:w,explanation:s.value.correctAnswerExplanation,codeExample:s.value.correctAnswerCodeExample}),b.value=!0}function Q(){if(c){if(i.value===c.questions.length-1){p.value=!0,m.value.total=u.value.length,m.value.correct=u.value.filter(w=>w.answers.every(v=>v.isSelected===v.isCorrect)).length,m.value.wrong=m.value.total-m.value.correct,m.value.percentage=Math.round(m.value.correct/m.value.total*100);return}i.value++,l.value=(i.value+1)/c.questions.length*100,b.value=!1,r.value=null}}return{quizInit:o,quizProgress:l,currentQuestionIndex:i,currentQuestion:s,selectedOption:r,checkAnswer:b,userStats:m,userHistory:u,isLastQuestion:h,isFinished:p,handleUserAnswer:T,handleNextQuestion:Q}}const se={class:"max-w-[450px] w-full mx-auto text-center bg-white dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 p-4 rounded-md mb-4 shadow-"},oe={class:"bg-slate-100 dark:bg-slate-800 p-1 rounded-full mx-auto h-[60px] w-[60px] flex items-center justify-center"},le=["src"],re={class:"text-sm text-gray-600 dark:text-gray-400"},ne={class:"font-bold text-xl"},ae={class:"opacity-70 mb-7"},ie=z({__name:"QuizWelcome",props:{title:{},description:{},image:{},category:{},level:{},levelLabel:{}},emits:["startQuiz"],setup(c){return(o,l)=>(a(),d("div",se,[e("div",oe,[e("img",{class:"max-w-[30px]",src:o.image,alt:"Quiz Image"},null,8,le)]),A(R,{type:o.level,text:o.levelLabel,class:"mx-auto my-3"},null,8,["type","text"]),e("span",re,n(o.category),1),e("h1",ne,n(o.title),1),l[1]||(l[1]=e("hr",{class:"my-5 border-gray-200 dark:border-slate-800"},null,-1)),e("p",ae,n(o.description),1),e("button",{class:"app-button primary font-semibold mx-auto block w-full",onClick:l[0]||(l[0]=i=>o.$emit("startQuiz"))},n(o.$t("quiz.start_quiz")),1)]))}}),de={class:"flex justify-between items-center mb-4"},ue={class:"text-sm font-semibold text-gray-500 dark:text-gray-400"},ce={class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700 mb-6"},me=z({__name:"QuizProgress",props:{progress:{},currentQuestionIndex:{},quizLength:{}},setup(c){return(o,l)=>(a(),d(y,null,[e("div",de,[e("p",ue,n(o.$t("quiz.question"))+" "+n(o.currentQuestionIndex)+" "+n(o.$t("general.of"))+" "+n(o.quizLength),1)]),e("div",ce,[e("div",{class:"bg-color-primary h-2.5 rounded-full transition-[width] duration-500 ease-in-out",style:F({width:`${o.progress}%`})},null,4)])],64))}}),be={class:"flex items-center text-xl font-bold mb-4"},pe={class:"block me-1"},ge=["innerHTML"],he=["value","disabled","id"],ve=["for"],fe=["innerHTML"],_e={key:0,class:"text-xs font-bold inline-block text-end text-green-500"},ke={key:1,class:"text-xs font-bold inline-block text-end text-red-500"},ye=z({__name:"QuizQuestion",props:D({question:{},checkAnswer:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const o=C(),l=P(c,"modelValue");return(i,s)=>(a(),d(y,null,[e("div",be,[e("span",pe,n(i.question.id)+".",1),e("div",{class:"question-text",innerHTML:t($)(i.question.questionText[t(o).locale])},null,8,ge)]),e("ul",null,[(a(!0),d(y,null,M(i.question.answers,r=>(a(),d("li",{key:r.id,class:"flex items-center rounded-md gap-2 cursor-pointer relative mb-2"},[U(e("input",{class:"curson-pointer ms-2 peer absolute z-10","onUpdate:modelValue":s[0]||(s[0]=b=>l.value=b),value:r.id,disabled:i.checkAnswer,type:"radio",name:"answer",id:`answer-${r.id}`},null,8,he),[[O,l.value]]),e("label",{for:`answer-${r.id}`,class:N(["grid grid-cols-1 md:grid-cols-[1fr,max-content] items-center w-full h-full p-4 cursor-pointer rounded-md border border-slate-200 dark:border-slate-800 peer-checked:border-blue-500",{"!border-green-500":i.checkAnswer&&r.isCorrect,"!border-red-500":i.checkAnswer&&!r.isCorrect,"hover:bg-gray-100 dark:hover:bg-slate-800":!i.checkAnswer,"cursor-not-allowed opacity-85":i.checkAnswer}])},[e("span",{class:"block w-full text-start pl-3",innerHTML:t($)(r.answerText[t(o).locale])},null,8,fe),i.checkAnswer&&r.isCorrect?(a(),d("span",_e,n(l.value===r.id?i.$t("quiz.your_answer"):i.$t("quiz.correct_answer")),1)):_("",!0),i.checkAnswer&&!r.isCorrect&&l.value===r.id?(a(),d("span",ke,n(i.$t("quiz.your_answer")),1)):_("",!0)],10,ve)]))),128))])],64))}}),$e={class:"grid grid-cols-1 md:grid-cols-[0.6fr,2fr] gap-3"},we={class:"static md:sticky md:top-20 p-4 bg-white dark:bg-slate-900 rounded-md self-start"},xe={class:"flex justify-between items-center mb-4"},qe={class:"font-bold"},ze=["src"],Me={class:"mt-9 text-sm"},Te={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Le={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Ce={class:"mb-2 border-b border-slate-200 dark:border-slate-800 pb-2"},Qe={class:"border-b border-slate-200 dark:border-slate-800 pb-2"},He={class:"bg-white dark:bg-slate-900 p-7 rounded-md"},Ae={class:"flex items-center font-bold text-xl mb-4"},Se={class:"block me-1"},Ve=["innerHTML"],Ie=["innerHTML"],je={key:0,class:"block text-end text-xs font-bold text-green-500"},Ne={key:1,class:"block text-end text-xs font-bold text-red-500"},Be={class:"font-bold mt-4"},Ee=["innerHTML"],Re=z({__name:"QuizResults",props:{userHistory:{},userStats:{},quiz:{}},setup(c){const o=C();return(l,i)=>{var r,b;const s=B("highlightjs");return a(),d("div",$e,[e("div",we,[e("div",xe,[e("h1",qe,n((r=l.quiz)==null?void 0:r.title[t(o).locale]),1),e("img",{src:(b=l.quiz)==null?void 0:b.category.image,alt:"Quiz Image",class:"w-[30px]"},null,8,ze)]),e("ul",Me,[e("li",Te,[L(n(l.$t("quiz.total_questions"))+": ",1),e("strong",null,n(l.userStats.total),1)]),e("li",Le,[L(n(l.$t("quiz.correct_answers"))+": ",1),e("strong",null,n(l.userStats.correct),1)]),e("li",Ce,[L(n(l.$t("quiz.wrong_answers"))+": ",1),e("strong",null,n(l.userStats.wrong),1)]),e("li",Qe,[L(n(l.$t("quiz.success_percentage"))+": ",1),e("strong",null,n(l.userStats.percentage)+"%",1)])])]),e("div",He,[e("ul",null,[(a(!0),d(y,null,M(l.userHistory,(h,p)=>(a(),d("li",{key:p,class:"bg-white dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 p-4 rounded-md mb-6 last:mb-0"},[e("div",Ae,[e("span",Se,n(p+1)+".",1),e("div",{innerHTML:t($)(h.question[t(o).locale])},null,8,Ve)]),e("ul",null,[(a(!0),d(y,null,M(h.answers,u=>(a(),d("li",{key:u.id,class:N(["block md:flex justify-between items-center mb-2 border border-slate-200 dark:border-slate-800 p-3 rounded-md",{"!border-green-500":u.isCorrect,"!border-red-500":!u.isCorrect&&u.isSelected}])},[e("div",{class:"block",innerHTML:t($)(u.answerText[t(o).locale])},null,8,Ie),u.isCorrect?(a(),d("span",je,n(u.isSelected?l.$t("quiz.your_answer"):l.$t("quiz.correct_answer")),1)):_("",!0),!u.isCorrect&&u.isSelected?(a(),d("span",Ne,n(l.$t("quiz.your_answer")),1)):_("",!0)],2))),128))]),e("div",null,[e("h6",Be,n(l.$t("quiz.explanation")),1),e("div",{class:"p-3 bg-slate-50 dark:bg-slate-800 rounded-md mt-2 mb-4",innerHTML:t($)(h.explanation[t(o).locale])},null,8,Ee)]),(a(!0),d(y,null,M(h.codeExample[t(o).locale],u=>(a(),q(s,{class:"text-xs md:text-base rounded-md overflow-hidden mb-4 last-of-type:mb-0",language:u.language,code:u.code},null,8,["language","code"]))),256)),i[0]||(i[0]=e("hr",{class:"my-10 border-t border-gray-200 dark:border-slate-800"},null,-1))]))),128))])])])}}}),Fe={class:"bg-white dark:bg-slate-900 rounded-md w-full max-w-[700px] max-h-[90vh] overflow-y-auto relative mx-6"},De={class:"p-4 md:p-8 text-sm md:text-base"},Pe={class:"mt-4"},Ue={class:"font-bold"},Oe=["innerHTML"],Ge=["innerHTML"],We={class:"font-bold"},Je=["innerHTML"],Ke=z({__name:"QuizQuestionDetailsModal",props:{question:{}},emits:["closeModal"],setup(c){const o=C(),l=c,i=H(()=>l.question.answers.find(s=>s.isCorrect));return(s,r)=>{var h;const b=B("highlightjs");return a(),d("div",{class:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-black bg-opacity-50 z-[9999] backdrop-blur-md",onClick:r[1]||(r[1]=G(p=>s.$emit("closeModal"),["self"]))},[e("div",Fe,[e("div",De,[e("button",{onClick:r[0]||(r[0]=p=>s.$emit("closeModal")),class:"text-sm text-slate-600 dark:text-slate-400 absolute top-4 right-4 hover:text-slate-700 dark:hover:text-slate-300"}," [ "+n(s.$t("quiz.close_details"))+" ] ",1),e("dl",Pe,[e("dt",Ue,n(s.$t("quiz.question")),1),e("dd",{class:"mt-2",innerHTML:t($)(s.question.questionText[t(o).locale])},null,8,Oe),r[2]||(r[2]=e("dt",{class:"font-bold mt-4"},"Respuesta correcta",-1)),e("dd",{class:"mt-2",innerHTML:t($)(((h=i.value)==null?void 0:h.answerText[t(o).locale])??"")},null,8,Ge)]),r[3]||(r[3]=e("hr",{class:"my-5 border-slate-200 dark:border-slate-800"},null,-1)),e("h3",We,n(s.$t("quiz.explanation")),1),e("div",{class:"mt-2 mb-5",innerHTML:t($)(s.question.correctAnswerExplanation[t(o).locale])},null,8,Je),(a(!0),d(y,null,M(s.question.correctAnswerCodeExample[t(o).locale],p=>(a(),q(b,{class:"text-sm rounded-md overflow-hidden mt-4",language:p.language,code:p.code},null,8,["language","code"]))),256))])])])}}}),Xe={key:0,class:"mt-10"},Ye={key:1,class:"max-w-[950px] mx-auto"},Ze={class:"text-xl font-bold mb-6"},et={class:"bg-white dark:bg-slate-800/50 border dark:border-slate-800 border-slate-200 p-4 rounded-md mx-auto"},tt={class:"flex justify-end items-center gap-3 mt-6"},st=["disabled"],ot=["disabled"],nt=z({__name:"QuizProfileView",setup(c){const o=C(),l=J(),i=K(),s=W.find(x=>x.id===l.params.id),r=f(!1);s||i.push({name:"NotFound"});const{quizInit:b,quizProgress:h,currentQuestionIndex:p,currentQuestion:u,selectedOption:m,isFinished:T,isLastQuestion:Q,checkAnswer:w,userHistory:v,userStats:E,handleUserAnswer:S,handleNextQuestion:V}=te(s||null);return X(()=>{s&&(document.title=`${s.title[o.locale]} - Vue Training`)}),Y(()=>o.locale,()=>{s&&(document.title=`${s.title[o.locale]} - Vue Training`)}),(x,g)=>{var I,j;return a(),d(y,null,[t(s)?(a(),d("div",Xe,[!t(b)&&t(s)?(a(),q(ie,{key:0,title:t(s).title[t(o).locale],description:t(s).description[t(o).locale],image:t(s).category.image,category:t(s).category.name,level:t(s).level,levelLabel:t(s).levelLabel[t(o).locale],onStartQuiz:g[0]||(g[0]=k=>b.value=!0)},null,8,["title","description","image","category","level","levelLabel"])):_("",!0),!t(T)&&t(b)?(a(),d("div",Ye,[e("h1",Ze,n((I=t(s))==null?void 0:I.title[t(o).locale]),1),e("div",et,[A(me,{progress:t(h),currentQuestionIndex:t(p)+1,quizLength:(j=t(s))==null?void 0:j.questions.length},null,8,["progress","currentQuestionIndex","quizLength"]),A(ye,{question:t(u),checkAnswer:t(w),modelValue:t(m),"onUpdate:modelValue":g[1]||(g[1]=k=>Z(m)?m.value=k:null)},null,8,["question","checkAnswer","modelValue"]),e("div",tt,[t(w)?(a(),d("button",{key:0,onClick:g[2]||(g[2]=k=>r.value=!0),class:"app-button secondary text-sm"},n(x.$t("quiz.view_details")),1)):_("",!0),t(w)?(a(),d("button",{key:2,disabled:!t(m),class:"app-button primary text-sm",onClick:g[4]||(g[4]=(...k)=>t(V)&&t(V)(...k))},n(t(Q)?x.$t("quiz.finish_quiz"):x.$t("quiz.next_question")),9,ot)):(a(),d("button",{key:1,disabled:!t(m),class:"app-button primary text-sm",onClick:g[3]||(g[3]=(...k)=>t(S)&&t(S)(...k))},n(x.$t("quiz.verify_answer")),9,st))])])])):t(T)?(a(),q(Re,{key:2,userHistory:t(v),userStats:t(E),quiz:t(s)},null,8,["userHistory","userStats","quiz"])):_("",!0)])):_("",!0),(a(),q(ee,{to:"body"},[r.value?(a(),q(Ke,{key:0,question:t(u),onCloseModal:g[5]||(g[5]=k=>r.value=!1)},null,8,["question"])):_("",!0)]))],64)}}});export{nt as default};
